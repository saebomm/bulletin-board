<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::content})}">
<body>
<section th:fragment="content" class="bb-stack bb-stack--lg">

    <div class="bb-card bb-card--spaced">

        <!-- 헤더 -->
        <div class="bb-card__header bb-card__header--split">
            <div>
                <h1 class="bb-page-title">게시글 관리</h1>
                <p class="bb-page-subtitle">
                    전체 게시글을 조회하고 관리할 수 있습니다.
                </p>
            </div>

            <!-- 추후 필터 영역 확장 가능 -->
            <div class="bb-actions bb-actions--right">
                <!-- 예: 상태 필터, 검색 -->
            </div>
        </div>

        <!-- ===================== -->
        <!-- 데스크탑 테이블 -->
        <!-- ===================== -->
        <div class="bb-table-wrapper bb-admin-table-desktop">
            <table class="bb-table">
                <thead>
                <tr>
                    <th>번호</th>
                    <th>제목</th>
                    <th>작성자</th>
                    <th>작성일</th>
                    <th>상태</th>
                </tr>
                </thead>

                <tbody>
                <tr th:if="${#lists.isEmpty(articles)}">
                    <td colspan="6" class="bb-table-empty">
                        조회된 게시글이 없습니다.
                    </td>
                </tr>

                <tr th:each="a, stat : ${articles}">
                    <td th:text="${#lists.size(articles) - stat.index}">1</td>

                    <!-- 제목 → 상세 페이지 -->
                    <td style="text-align: left;">
                        <a th:href="@{|/admin/articles/${a.id}|}"
                           class="bb-admin-article-link"
                           th:text="${a.title}">
                            게시글 제목
                        </a>
                    </td>

                    <!-- 작성자 -->
                    <td th:text="${a.writerText}">이름</td>

                    <!-- 작성일 -->
                    <td th:text="${#temporals.format(a.createdAt, 'yyyy-MM-dd')}">
                        2025-12-15
                    </td>

                    <!-- 상태 -->
                    <td>
                        <span class="bb-pill"
                              th:classappend="${a.public} ? ' bb-pill--success' : ' bb-pill--danger'"
                              th:text="${a.statusText}">
                            상태
                        </span>
                    </td>

                </tr>
                </tbody>
            </table>
        </div>

        <!-- ===================== -->
        <!-- 모바일 카드 리스트 -->
        <!-- ===================== -->
        <div class="bb-admin-list-mobile">

            <p class="bb-table-empty"
               th:if="${#lists.isEmpty(articles)}">
                조회된 게시글이 없습니다.
            </p>

            <ul class="bb-admin-card-list"
                th:if="${!#lists.isEmpty(articles)}">

                <li th:each="a : ${articles}" class="bb-admin-card">

                    <!-- 카드 정보 영역 -->
                    <a th:href="@{|/admin/articles/${a.id}|}"
                       class="bb-admin-card-link">

                        <!-- 제목 + 상태 -->
                        <div class="bb-admin-card__top">

                            <span class="bb-admin-card__title"
                                  th:text="${a.title}">
                                게시글 제목
                            </span>

                            <span class="bb-pill bb-pill--sm"
                                  th:classappend="${a.public}
                              ? ' bb-pill--success'
                              : ' bb-pill--danger'"
                                  th:text="${a.statusText}">
                                상태
                            </span>

                        </div>

                        <!-- 메타 정보 -->
                        <div class="bb-admin-card__meta">
                            <span th:text="${a.writerText}">이름</span>
                            <span class="bb-admin-card__dot">·</span>
                            <span th:text="${#temporals.format(a.createdAt, 'yyyy-MM-dd')}">
                                2025-01-01
                            </span>
                        </div>

                    </a>

                </li>
            </ul>
        </div>

    </div>

</section>
</body>
</html>