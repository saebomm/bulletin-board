<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::content})}">
<body>
<section th:fragment="content">

    <div class="bb-card bb-card--spaced bb-article-list-page">
        <div class="bb-card__header">
            <div>
                <h2 class="bb-page-title">게시글 목록</h2>
                <p class="bb-page-subtitle">
                    게시판의 전체 글 목록을 확인할 수 있습니다.
                </p>
            </div>
            <div class="bb-actions bb-actions--right">
                <a th:href="@{/articles/new}" class="bb-btn bb-btn--primary">
                    새 글 작성
                </a>
            </div>
        </div>

        <!-- 데스크탑용 테이블 -->
        <div class="bb-article-table-desktop">
            <div class="bb-table-wrapper">
                <table>
                    <thead>
                    <tr>
                        <th>번호</th>
                        <th>제목</th>
                        <th>작성자</th>
                        <th>조회수</th>
                        <th>작성일</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:if="${#lists.isEmpty(articles)}">
                        <td colspan="5" class="bb-table-empty">
                            등록된 게시글이 없습니다.
                        </td>
                    </tr>
                    <tr th:each="article, stat : ${articles}">
                        <!-- 최신 글이 위로 오도록 번호 계산 -->
                        <td th:text="${#lists.size(articles) - stat.index}">1</td>
                        <td style="text-align: left;">
                            <a th:href="@{/articles/{id}(id=${article.id})}"
                               th:text="${article.title}">
                                제목
                            </a>
                        </td>
                        <td th:text="|${article.memberName}(${article.memberUsername})|">작성자</td>
                        <td th:text="${article.viewCount}">0</td>
                        <td th:text="${#temporals.format(article.createdAt, 'yyyy-MM-dd')}">
                            2025-01-01
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 모바일용 카드 리스트 -->
        <div class="bb-article-list-mobile">

            <!-- 글 없을 때 -->
            <p class="bb-table-empty"
               th:if="${#lists.isEmpty(articles)}">
                등록된 게시글이 없습니다.
            </p>

            <!-- 글 있을 때 카드 목록 -->
            <ul class="bb-article-card-list"
                th:if="${!#lists.isEmpty(articles)}">
                <li th:each="article, stat : ${articles}"
                    class="bb-article-card">

                    <a th:href="@{/articles/{id}(id=${article.id})}"
                       class="bb-article-card__link">

                        <!-- 제목 -->
                        <div class="bb-article-card__title"
                             th:text="${article.title}">
                            게시글 제목입니다
                        </div>

                        <!-- 작성자 · 작성일 · 조회수 -->
                        <div class="bb-article-card__meta">
                            <span class="bb-article-card__author"
                                  th:text="|${article.memberName}(${article.memberUsername})|">
                                작성자ID
                            </span>
                            <span class="bb-article-card__dot">·</span>
                            <span class="bb-article-card__date"
                                  th:text="${#temporals.format(article.createdAt, 'yyyy-MM-dd')}">
                                2025-01-01
                            </span>
                            <span class="bb-article-card__dot">·</span>
                            <span class="bb-article-card__views">
                                조회
                                <span th:text="${article.viewCount}">0</span>
                            </span>
                        </div>

                    </a>
                </li>
            </ul>
        </div>

    </div>

</section>
</body>
</html>